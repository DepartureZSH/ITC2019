# æœ‰ä»·å€¼çš„ MIP ä¿¡æ¯ â‘ 

â€œå“ªäº›è¯¾ç¨‹æ˜¯ MIP è®¤ä¸ºçš„â€˜ç¡¬è¯¾ç¨‹â€™â€
å«ä¹‰ï¼ˆéå¸¸é‡è¦ï¼‰

åœ¨ MIP æœç´¢ä¸­ï¼š

- æŸäº› x[cid, t, r] åå¤å˜æˆ fractional

- æŸäº›è¯¾ç¨‹ åå¤å‡ºç°åœ¨åˆ†æ”¯ã€å†²çªã€ä¿®å¤ä¸­

ğŸ‘‰ è¿™äº›è¯¾ç¨‹å°±æ˜¯ï¼š

â€œç³»ç»Ÿç»“æ„ä¸Šæœ€éš¾æ’çš„è¯¾â€

```python
fractional_count = defaultdict(int)

def extract_course_id(x):
    return x.split('_')[1]

def frac_callback(model, where):
    if where == GRB.Callback.MIPNODE:
        xvars = model.getVars()
        vals = model.cbGetNodeRel(xvars)
        for v, val in zip(xvars, vals):
            if v.VarName.startswith("x") and 1e-5 < val < 1 - 1e-5:
                cid = extract_course_id(v.VarName)
                fractional_count[cid] += 1
```

ğŸ‘‰ å¾—åˆ°çš„æ˜¯ï¼š

â€œè¯¾ç¨‹è¢« solver çŠ¹è±«è¿‡å¤šå°‘æ¬¡â€

ğŸ”¥ è¿™å¯¹ä½  RL æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

- Scheduler çš„ è¯¾ç¨‹é¡ºåºå…ˆæ’â€œç¡¬è¯¾â€

- MAPPO ç»™â€œç¡¬è¯¾â€æ›´å¤š exploration

- reward é‡Œå¯¹è¿™äº›è¯¾çš„ penalty æƒé‡æ›´å¤§

- è¿™æ˜¯ MIP â†’ RL çš„æœ€æœ‰æ•ˆä¿¡æ¯è¿ç§»

# çœŸæ­£æœ‰ä»·å€¼çš„ MIP ä¿¡æ¯ â‘¡

â€œMIP è§£ä¸­å“ªäº›è¯¾ç¨‹çš„é€‰æ‹©æ˜¯â€˜è„†å¼±çš„â€™â€
å«ä¹‰

åœ¨ MIP è§£é™„è¿‘ï¼š

- æœ‰äº›è¯¾ç¨‹ï¼š
    - åªæœ‰ 1 ä¸ªå¯è¡Œæ—¶é—´

- æœ‰äº›è¯¾ç¨‹ï¼š
    - ç¨å¾®ä¸€æŒªï¼Œæ•´ä¸ªè§£å°± infeasible

ğŸ‘‰ è¿™äº›ä¸æ˜¯ä½  RL åº”è¯¥åŠ¨çš„å˜é‡

---

ä½ å¯ä»¥æ€ä¹ˆåˆ†æ

å¯¹ MIP è§£åšï¼š

- å¯¹æ¯é—¨è¯¾ï¼š

    - å›ºå®šå…¶ä»–è¯¾ç¨‹

    - çœ‹å®ƒæœ‰å¤šå°‘ (time, room) å¯è¡Œ

è¿™ä¸æ˜¯ solver å†…éƒ¨ä¿¡æ¯ï¼Œä½†ï¼š

æ˜¯ä» MIP è§£â€œåæ¨ç»“æ„â€çš„æœ€æœ‰ä»·å€¼æ–¹å¼

ğŸ”¥ å¯¹ RL çš„ä½œç”¨

- MAPPOï¼š
    - å†»ç»“è¿™äº›è¯¾
    - åªåœ¨â€œè‡ªç”±åº¦é«˜çš„è¯¾â€ä¸Šæ¢ç´¢

- Schedulerï¼š
    - æŠŠè¿™äº›è¯¾æ”¾åœ¨â€œä¸å¯æ‰“ä¹±å±‚â€

# çœŸæ­£æœ‰ä»·å€¼çš„ MIP ä¿¡æ¯ â‘¢

â€œç¬¬ä¸€ä¸ªå¯è¡Œè§£ vs æœ€ç»ˆè§£ä¹‹é—´å‘ç”Ÿäº†ä»€ä¹ˆâ€

ä½ ä¹‹å‰å·²ç»èƒ½æ‹¿åˆ°ï¼š

- ç¬¬ä¸€ä¸ªå¯è¡Œè§£å‡ºç°çš„ node

- åç»­å¯è¡Œè§£çš„ penalty æ¼”åŒ–

ä½ åº”è¯¥é‡ç‚¹çœ‹çš„æ˜¯ï¼š

- penalty æ˜¯åœ¨å“ªä¸€ç±»è¯¾ç¨‹ä¸Šä¸‹é™çš„ï¼Ÿ

è¿™èƒ½å‘Šè¯‰ä½ ï¼š

- MIP çš„â€œæ”¹è¿›æ–¹å‘â€

- RL åº”è¯¥é‡ç‚¹æ¨¡ä»¿çš„è°ƒæ•´æ¨¡å¼